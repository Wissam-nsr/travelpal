<div class="screen">
  <div class="show-user-top" style="height: calc(45% - 52px); width: 100%;">
    <%= render 'shared/profile', user: @user %>
    <%= render 'trip_list', trips: @trips, user: @user %>
  </div>

  <% if current_user.chatroom_with(@user)%>
    <%= link_to "Chat", chatroom_path(current_user.chatroom_with(@user))  %>
  <% else %>
    <%= link_to chatroom_path(user_two: @user), data: { turbo_method: :post } do %>
      <span>Chat</span>
    <% end %>
  <% end %>

  <div class="show-user-bottom" style="height: 55%; width: 100%;">
    <div class="nav tab-links" id="myTab" role="tablist">
      <div class="show-tab" role="presentation">
        <div class="active" id="moment-tab" data-bs-toggle="tab" data-bs-target="#moment-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true"><i class="fa-solid fa-camera"></i></div>
      </div>
      <div class="show-tab" role="presentation">
        <div class="" id="trip-map-tab" data-bs-toggle="tab" data-bs-target="#trip-map-tab-pane" type="button" role="tab" aria-controls="trip-map-tab-pane" aria-selected="false"><i class="fa-regular fa-compass"></i></div>
      </div>
    </div>
    <div class="feed">
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="moment-tab-pane" role="tabpanel" aria-labelledby="moment-tab" tabindex="0">
          <% if @trip.nil? || @trip.moments.empty?  %>
            <h5>No photo yet !</h5>
          <% else %>
            <%= render 'moment_list', moments: @trip.moments %>
          <% end %>
        </div>
        <div class="tab-pane fade" id="trip-map-tab-pane" role="tabpanel" aria-labelledby="trip-map-tab" tabindex="0">
          <%= render 'shared/trip_map', markers: @markers, photos: @photos, current_markers: @current_markers %>
        </div>
      </div>
    </div>
  </div>
</div>
